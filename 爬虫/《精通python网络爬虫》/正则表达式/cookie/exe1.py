import urllib.request
import urllib.parse

url = "https://mail.163.com/js6/main.jsp?sid=fBisTBbfursnPSwPXBffZkeWIuqJhiRf#module=welcome.WelcomeModule%7C%7B%7D"
cookie_str = r'mail_health_check_time=1547994566648; _ntes_nnid=f82b0658274645b4c9cf1fd302463777,1547688352056; _ntes_nuid=f82b0658274645b4c9cf1fd302463777; Province=0; City=0; _nietop_foot=%u8D85%u6FC0%u6597%u68A6%u5883%7Cfight.163.com; nie_video_speed=662.3; starttime=; mail_upx_nf=; mail_idc=; MAIL_MISC=bi861156317liaoy; secu_info=1; locale=; mail_style=js6; mail_uid=bi861156317liaoy@163.com; mail_host=mail.163.com; NNSSPID=92a17ffcfd4b479a8562874669d8edd5; mail_psc_fingerprint=481aaf4bf87fc5d963c8e812a49e2e6c; usertrack=CrHuclxEhcqiWyB6A22AAg==; __yadk_uid=agVNHGghbPk2wXhA3liYPNcWRjYCnE1E; nts_mail_user=bi861156317liaoy@163.com:-1:1; df=mail163_letter; NTES_SESS=Kn4IEVOnkDoi9oTIzIDYq1Vn5XCITpfYPQ0mt0LTu82WBlf2BpU6Vjz_.P25n9s154DDWDlzmc8xcsZcXDpgtbzYQSP6ZaWO27MhTmup.k657YP8eVfmkBG0YhiiJEmyti8ghG1jT5_DxzDLNzFaWooacJPLLHHBxPN9C_xpovB6lhvgM7zpOaHDCNoRySPoYm_qAjZqaxccj; S_INFO=1547996550|0|3&100##|bi861156317liaoy; P_INFO=bi861156317liaoy@163.com|1547996550|0|mail163|00&99|gud&1547994872&mail163#gud&441900#10#0#0|&0|mail163&survey_web|bi861156317liaoy@163.com; mail_upx=t3gd.mail.163.com|t4gd.mail.163.com|t1gd.mail.163.com|t2gd.mail.163.com|t2bj.mail.163.com|t3bj.mail.163.com|t4bj.mail.163.com|t1bj.mail.163.com; Coremail=ae8397748916e%fBisTBbfursnPSwPXBffZkeWIuqJhiRf%g4a65.mail.163.com; cm_last_info=dT1iaTg2MTE1NjMxN2xpYW95JTQwMTYzLmNvbSZkPWh0dHBzJTNBJTJGJTJGbWFpbC4xNjMuY29tJTJGanM2JTJGbWFpbi5qc3AlM0ZzaWQlM0RmQmlzVEJiZnVyc25QU3dQWEJmZlprZVdJdXFKaGlSZiZzPWZCaXNUQmJmdXJzblBTd1BYQmZmWmtlV0l1cUpoaVJmJmg9aHR0cHMlM0ElMkYlMkZtYWlsLjE2My5jb20lMkZqczYlMkZtYWluLmpzcCUzRnNpZCUzRGZCaXNUQmJmdXJzblBTd1BYQmZmWmtlV0l1cUpoaVJmJnc9aHR0cHMlM0ElMkYlMkZtYWlsLjE2My5jb20mbD0tMSZ0PS0xJmFzPXRydWU=; MAIL_SESS=Kn4IEVOnkDoi9oTIzIDYq1Vn5XCITpfYPQ0mt0LTu82WBlf2BpU6Vjz_.P25n9s154DDWDlzmc8xcsZcXDpgtbzYQSP6ZaWO27MhTmup.k657YP8eVfmkBG0YhiiJEmyti8ghG1jT5_DxzDLNzFaWooacJPLLHHBxPN9C_xpovB6lhvgM7zpOaHDCNoRySPoYm_qAjZqaxccj; MAIL_SINFO=1547996550|0|3&100##|bi861156317liaoy; MAIL_PINFO=bi861156317liaoy@163.com|1547996550|0|mail163|00&99|gud&1547994872&mail163#gud&441900#10#0#0|&0|mail163&survey_web|bi861156317liaoy@163.com; mail_entry_sess=2d5f1dad027c993af06d30426b1cffab82f30e19048c368b1cf1ebcdbc0e6dc87a661e0e88347a6fca162447a65a96bcc995356f979d86e26182ce63dfeff7eebc2ca6972ffe5ee772ce92ba4446ef81edbd1ebc43efcedaec91d70998375f5324371a94afc14de3b8f4951650bc5b9ff9994e909c49142bbcecf4a91433ee7e77285c56d04c9e6cf11fe1feaeeb815f2944442f08b04a1850a9e847ba1720c20eecba9381ed8a73dcedbff421b7e9e096e754578965f605e832cd6fad428a1c; Coremail.sid=fBisTBbfursnPSwPXBffZkeWIuqJhiRf; JSESSIONID=653B23A02AB704425ABA5AFDF591A342'
req = urllib.request.Request(url)
req.add_header('cookie', cookie_str)
req.add_header('User-Agent','Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.26 Safari/537.36 Core/1.63.6824.400 QQBrowser/10.3.3137.400')
resp = urllib.request.urlopen(req)
fhandle = open("C:/Users/58294/Documents/Python File/4.html","wb")
fhandle.write(resp.read()) #将内容写入对应文件
fhandle.close()
print(resp.read().decode('utf-8'))
